# 동적 타이핑 언어의 시대는 끝났다

## 동적 언어를 배경으로 한 경력

내 경력의 대부분은 php이다. php가 그렇게 좋은 언어가 아니라는 것은 익히 알고 있었지만, 주니어로서는 어떤 언어든지 배울 것이 있고 처음 회사에서 뷰, 리액트, 고, php와 라라벨을 했고, 풀스텍을 하고자 했기 때문에 서버사이드 쪽을 택했고, 그 경험을 토대로 좋은 코딩 스타일과 아키텍처를 만들 수 있을 것 같아서 라라벨을 할 수 있는 회사를 선택하게 되었다.

컴파일 언어의 코딩에 관해서는 많은 자료가 있는 것에 반해, 동적 언어에 대해서는 어떻게 다루는 것이 좋다는 자료를 찾기 어려웠고, 문법에 대한 설명, 프레임워크의 사용법 등에 관한 것은 있었지만, 어떤 코딩스타일과 아키텍처를 사용하는 것이 좋은지에 관해서는 쉽게 알기 어려웠다. 동적 언어를 안전하게 쓰기 위해 나름대로의 해결 방법을 찾았고, 이를 활용한 코딩 방법을 사용하여 php, 라라벨 프로젝트의 타입 안정성을 높일 수 있었다.

하지만 이런 타입 안전을 위한 코딩 방식은 다수의 php-laravel 코딩 스타일과는 좀 다른 방식으로 해야 하는 점들이 있었다.

## AI에 의한 코딩

### 코드 제안과 자동완성

깃허브 코파일럿이 등장한 초기 AI의 자동완성은 생각 보다 좋지 않았다. AI가 올바른 제안을 했는지 잘못된 제안을 했는지 확인을 해야 했고, 원하는 제안을 할 때까지 인간이 어느정도 타이핑을 하고 나서야 괜찮은 코드를 자동 완성을 할 수 있는 형태로 제안을 해 주었다. 

### 에이전트 모드

에이전트 모드도, 원하는 품질의 코드를 뽑아 주지 않았고 이상한 코딩을 하는 경우가 많아 그리 많이 사용하지 않았다.

### 추론 모델의 등장

추론 모델이 등장하고, AI에게 어느정도 코드를 맡겨도 될 정도의 품질의 코드를 만들어내기 시작했다. 이를 통해서 인간은 AI의 도움을 받아 자료 조사와 타이핑에 들어가는 시간을 많이 단축시킬 수 있었다.

### 거대 토큰 처리 모델의 등장

AI가 점점 더 방대한 토큰을 처리하기 시작하고, 코드를 추론하는 단계에 이르자 인간 프로그래머는 원하는 사양만 설계하고 구현은 AI가 해도 80 - 90 퍼센트 정도 잘 작성된 코드가 생성되었다. 10 - 20 퍼센트의 코드는 인간이 사양을 좀 부족하게 작성했거나, 잘못 작성된 사양에 의한 문제로 잘못된 코드 또는 AI가 프로젝트의 코딩 스타일과 의도를 놓쳐서 생기는 문제, 또는 AI 특유의 방어적 코딩의 장황함 문제를 개선하는데 시간을 쓰게 되었다.

## 회의감

코딩 스타일이 다양한 언어이고 특정한 코딩 방식을 고수해야 한다는 원칙이 있는 경우일수록 AI가 코드를 원하는 방식으로 생성하기 어렵다는 점을 발견할 수 있었다. php는 동적인 언어이고, 최신 php는 점점 더 타입을 잘 지원하는 코딩 스타일을 사용하고, 과거의 레거시의 잔재와 정적 분석에 의한 타입 시스템을 병행하기 위해서는 특별한 방법을 쓸 수 밖에 없는 형편이다.

하지만, AI의 코딩 스타일은 기존 프로젝트에서 사용한 노하우를 차용하기 보다는 방대한 학습에 의한 데이터 및 동작하면 그만이라는 코드를 작성하는 경향이 있다. 이를 제어하기 위해서 AI 에이전트에게 코딩 스타일이나 코드를 작성하는데 필요한 배경 지식 등을 주입하는 방법을 사용하지만, 이게 생각보다 잘 안먹히는 경우가 많이 있었다.

## AI가 지시사항을 따르지 않는 이유

기본적으로 AI 에이전트는 코드 변경의 메인이 되는 대상 파일의 내용에 먼저 집중하도록 설계가 되어 있다. 그래서, 글로벌로 세팅한 지시사항을 무시하거나 코드를 작성한 후 참조하게 되면서 기존에 쌓인 노하우가 적용되지 않는 현상이 나타나기도 한다.

문제는 가이드라인이 올바르게 적용이 되지 않는 문제들 때문에 개발자가 직접 코드를 수정해야 할 일이 계속 생기고 이 때문에 코딩의 효율이 떨어진다는 점이다.

이런 문제를 해결하기 위해서는 개발자의 의도를 AI 에이전트에게 명확히 지시할 수 있는 프롬프팅과 AI가 전역 지시 사항 참조를 실패하는 이유 미리 이해하고 AI의 예측이 실패하지 않는 방향으로 질문을 하는 등의 섬세한 질문을 하는 등의 불편함이 생긴다.

또한 AI에게 회사의 노하우를 주입하기 위해서 지시사항을 최대한 잘 수행할 수 있는 정교한 지시 방법과 글을 작성해야 하는 부담감이 또한 생긴다.

동적 타입 언어는 빠른 개발 및 성능 보다는 도메인 로직에 집중하기 위해서 사용하는 언어인데, AI 시대에 태생적인 언어의 한계로 인해서 오히려 생산성이 더 떨어지는 문제가 발생하는 것은 심각히 우려될만한 사안이다.

고 언어와 같은 코딩 스타일이 단순한 언어를 선택하게 된다면 이런 지시사항을 최소한으로 줄일 수 있기 때문에 훨씬 더 빠르게 개발을 할 수 있게 될 수도 있다.

## 해결책

AI 코딩 에이전트가 지시사항을 잘 수행할 수 있도록 프레임워크 제작사나, 해당 아키텍처를 이용하고 있는 회사에서 코드 작설 규칙에 관한 문서를 공개하여 큰 수고를 들이지 않고 이 파일을 사용할 수 있도록 강제한다.

그리고 회사의 노하우를 적용할 수 있는 템플릿을 제공하여 해당 템플릿에 회사의 노하우를 업데이트하여 쉽게 적용할 수 있도록 가이드라인을 마련한다.

AI가 지시사항을 잘 적용하기 위해서 사용할 수 있는 스킬 및 지식에 대한 공유를 적극적으로 해야 한다.
