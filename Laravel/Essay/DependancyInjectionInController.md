### 의존성이란 무엇인가?
- 하나의 객체의 로직을 구성할 때 다른 객체의 기능이 없으면 내부 로직이 돌아가지 않는 경우 이 객체는 외부 객체에 대해 의존성이 있다고 말한다.

### 의존성 주입이란 무엇인가?
- 의존성을 외부에서 주입하는 것으로 객체 내부에 다른 객체의 기능에 의존하는 로직을 구현하는 것이다. 

### 라라벨 컨트롤러에서 사용하는 의존성
- 라라벨 프레임워크의 제작자 오트웰은 라라벨 프레임워크를 만들 때의 목적 중, IOC 개념을 적용한 프레임워크를 만들고자 했다. PHP의 리플렉션에 의해 자동적으로 의존성 주입이 되는 프레임워크를 만들고자 했다.
- 라라벨은 라우터에 사용할 클래스와 클래스의 사용할 메소드를 지정하면 지정한 컨트롤러 클래스의 지정한 메소드를 통해 컨트롤러 객체가 생성되고 지정한 메소드가 실행이 되는데 이 때, 라라벨의 의존성 주입을 통해 객체 생성 시에는 생성자를 통해 의존성 주입이 이뤄지며, 메소드 실행시 의존성 주입이 이뤄진다.
- 라라벨 컨트롤러에서 사용하는 의존성은 기본적으로 두 가지가 제시 되어 있다. 하나는 모델을 생성자를 통해 의존성 주입을 하는 방식이며, 또 다른 하나는 리퀘스트 객체를 메소드 주입을 통해 사용하는 방식이다. 

### 의존성을 주입하는 방법 3가지
1. 생성자 주입
2. setter 주입
3. 메소드 주입

### 생성자 주입을 사용할 때
- 생성자 주입은 클래스의 라이프사이클 동안 주입된 객체가 바뀌지 않음을 보장하기 위한 것이다. 그래서 보통은 재할당을 방지하기 위해 주입된 객체를 담는 변수를 final로 선언한다. 재할당 방지를 목적으로 생성자 주입을 한다면, final을 사용하여 그 의도를 드러내는 것이 좋다.
- 이 클래스를 구성할 때 필수적인 것인지 아닌지를 드러내기 위한 방식으로 사용한다. 클래스를 사용할 때 생성자를 넣지 않으면 객체를 구성할 수 없기 때문에 객체를 생성할 때 필수적인 요소로 사용된다.
- 생성자 주입을 사용하면 하나의 객체의 의존성이 어느정도인지 직관적으로 확인하기 편하다.
- 태스트 코드를 작성할 경우, 소수의 목(mock) 객체를 만들어 교환하기 좋다.
- 생성자 주입의 단점은 주입된 객체를 초기화 하는 방식이 아니기 때문에 객체의 초기화를 위해서는 메소드 주입 또는 세터 주입을 사용한다.

### 메소드 주입을 사용할 때
- 메소드별로 선택적으로 종속성을 부여해야 할 때 사용한다.
- 메소드별로 생성자를 초기화해서 사용해야 할 경우, 메소드 주입을 사용하는 것이 적절하다. 

### setter 주입을 사용할 때
- setter 주입은 변경이 일어날 수 있다.
- 주입되는 대상을 참조 하는데 상황에 따라 객체가 달라져야 할 경우 사용하기 때문에 쓰일 일이 많이 없다.
- 주입 되는 객체의 변경이 일어날 수 있기 때문에 유의하지 않으면 치명적인 버그로 이어질 수 있다. 참조할 객체가 없거나 객체가 달라져서 메소드가 달라지는 등의 문제 뿐만 아니라 결과 등을 불어 오는 것에도 문제가 생긴다.

### 라라벨 컨트롤러에서의 의존성
- setter 주입의 경우, 사용자가 정의해서 필요한 실행 컨텍스트에 집어 넣어주는 역할을 해야 하기 때문에 개발자의 섬세한 컨트롤을 요구한다. 지능이 없는 프레임워크가 할 수 있는 일이 아니기 때문에 프레임워크는 setter 주입을 지원하지 않는다.
- 많은 예제에서 모델은 생성자를 통해 주입하고 리퀘스트 객체는 메소드를 통해 주입을 하고 있는데 그 이유는 무엇일까? 기준은 단순하다. 컨트롤러 전체의 엑션에 함께 사용되는 것에는 생성자 주입을 사용하고 엑션마다 다르게 사용되는 객체의 주입은 메소드 주입을 통해서 사용하면 된다. 
- 모델을 보통 컨트롤러의 생성자로 주입하는데 이는 CURD를 하나의 모델을 통해 사용하기 때문이다. 컨트롤러에 CURD의 엑션을 하나의 패키지로 구성하는 것은 하나의 모델에 대한 컨트롤러를 구성하기 위해서이다.
- Request 객체는 보통 파라메터를 전달 받을 때 사용한다. 파라메터의 전달을 받을 필요가 없는 경우에는 Request 객체를 굳이 사용할 필요가 없기 때문에 메소드 주입을 통해 사용한다.




---

## Reference
- https://stackoverflow.com/questions/38998282/laravel-request-its-correct-injecting-request-directly-in-the-controller-const
