## PHP의 권한
- php를 실행하는 환경이 리눅스라고 가정하고 리눅스 환경에 한해서 설명하기로 한다.

## 파일 및 폴더 권한이 중요한 이유
- 해커가 파일 인젝션을 시도 했을 때, 업로드 된 파일에 많은 권한이 부여된다면 코드 인젝션을 시도하여 원하는 코드를 실행하게 된다면 각종 해킹을 허용하게 된다.
- 코드인젝션은 시큐어 코딩으로 막고, 파일 업로드는 서버에 저장하지 않도록 클라우드 스토리지로 스트리밍으로 전송하는 방식을 사용하면 된다.
- 문제는 이러한 설정을 일괄적으로 할 수 있는 것이 아니라 코딩하면서 지속적으로 염두해서 시큐어 코드를 짜야 하는 문제가 있다. 개인의 시큐어 코딩에 대한 지식이 있어야 하며 어딘가에는 빈 틈이 발생할 수 밖에 없는 문제점이 있다.
- 코드인젝션에도 여러가지 방식이 있지만 여기서는 파일 인젝션의 경우에 방어하기 위한 파일 및 폴더 권한 설정에 관해 살펴 볼 것이다.
- 파일과 폴더의 권한을 설정하는 것은 파일 인젝션이 이뤄졌을 때 실행할 수 없도록 만드는 방식이다.

## 파일 및 폴더 권한에 대한 이해
- 파일 및 폴더 권한은 소유권한과 지정한 소유자가 파일을 어느정도 조작이 가능한지 설정하는 권한으로 나뉜다.
- 파일 및 폴더 권한은 파일의 소유자 지정, 파일의 소유 그룹 지정, 모든 유저에게 부여할 권한으로 나눠진다.
- 파일 및 폴더에 지정할 소유 그룹은 소유자를 포함하지 않는 별개의 소유그룹 지정도 가능하다.
- 각각의 소유권에 대해 파일을 읽을 수 있는 권한, 파일 쓰기를 할 수 있는 권한, 파일을 실행할 수 있는 권한으로 나뉘어 진다.
- 실행 권한은 2진법으로 표기할 때 읽기 권한을 001, 쓰기 권한을 010, 실행 권한을 100으로 부여한다.
- 각 소유권에 대한 권한을 수로 표기할 때는 각 권한의 2진법 표기 방식을 and 연산을 하여 십진법의 값으로 표현한다. 

## 파일 및 폴더 권한 777이 위험한 이유
- 777에서 7이란 파일의 읽기, 쓰기, 실행 권한을 부여한 것이다. 그리고 첫 번째 7은 소유자에게 부여한 권한 레벨, 두 번째 7은 소유자 그룹에게 부여한 권한 레벨, 세 번째 7은 그 외 모든 유저에게 부여한 권한 레벨을 의미한다.


## Reference
- https://stackoverflow.com/questions/30639174/how-to-set-up-file-permissions-for-laravel
