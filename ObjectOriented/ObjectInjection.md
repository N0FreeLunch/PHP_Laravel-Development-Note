## 객체 주입

### 순수 객체
- 순수 함수라는 말이 있다. 함수의 인풋이 정해지면 그에 해당하는 아웃풋은 정해져 있다는 것이다. 이는 수학에서 배우는 함수의 정의이며 정의역에 해당하는 x값이 정해지면 그에 대응하는 치역의 y값이 연결(사상)된다는 개념이다.
- 객체도 순수 객체와 마찬가지인데, 의존성을 주입한다는 것은, 객체의 행동의 결과값이 같는 양상을 객체 내부의 요인으로 결정하는 것이 아니라, 순수 함수처럼 외부의 값으로 객체의 결과 값을 정하겠다는 의미를 가지고 있다.

### 객체 주입
- 객체의 동작의 결과를 얻는데 결과에 영향을 주지 않는 불필요한 값들이 섞여 있다면, 객체의 동작에 영향을 주는 값이 어떤지 알 수가 없다. 따라서 객체의 상태에 영향을 주는 요인이 주입하는 객체의 어떤 속성으로 이뤄지는 것인지 알기 어려운 특성을 가질 수 있다.

#### 객체가 같는 프로퍼티만을 이용하는 방식
- 주입되는 객체의 프로퍼티만 이용한다면, 주입 당하는 객체는 주입 되는 객체의 모든 프로퍼티를 이용할 것인지를 생각해 봐야 한다. 일부 프로퍼티만을 이용한다면, 해당 프로퍼티를 따로 받을 수 있는 메소드를 만들어서 객체가 이용하는 값이 어떤 것인지 알 수 있도록 하는 편이 좋다. 왜냐하면, 객체란 인터페이스를 통해서 이해가 되어야 하는 대상이고, 내부 구현에 의존적이지 않게 이해를 하기 위해서는 어떤 값이 객체의 상태에 영향을 주고 그 결과에 영향을 주는지 알 수 있어야 하기 때문이다. 좋은 객체란 것은 주입되는 상태와 그 결과의 연관 관계가 어떨지에 대한 추론이 가능해야 한다. 그래서 어떤 프로퍼티는 객체의 행동에 어떤 결과를 주는지 예측을 할 수 있어야 하고, 객체에 주입되는 값을 어떻게 조절하고 변경하여 원하는 결과 값을 만들어 낼 것인지 알 수 있게 해야 한다.
- 따라서 객체의 행동에 영향을 주지 않는 결과 값을 잔뜩 담은 프로퍼티의 집합을 전달하는 것은 불필요한 값을 주입하는 것을 생각하게 만들기 때문에 좋은 코딩이 될 수 없다. 물론 코딩의 시간을 절약하기 위해서 객체를 주입할 수 있지만, 시스템의 복잡성이 커질 수록 지엽적인 부분에서 고민을 줄이는 코딩 방식이 유리하며, 이러한 코딩 습관을 갖는 것이 권장된다. 이를 위해서는 좀 더 이해하기 쉽게 객체의 결과에 영향을 줄 수 있는 상태만을 골라서 주입하는 편이 나은 코딩 방식이라고 생각된다.

#### 객체 주입의 두 방식
1. 주입하는 객체의 상태를 주입 당하는 객체 내부에서 상태를 바꿔가면서 객체를 원하는 상태로 만들고 해당 상태에서 객체의 엑션이 가져다주는 값을 이용하는 방식이다.
2. 주입하려는 객체의 상태를 외부에서 결정한 채로 주입 당하는 객체로 전달하는 것으로써 결정된 값만을 받도록 하는 방식이다.
- 두 번째 방식의 경우, 객체에 불필요한 프로퍼티를 받을 수가 있기 때문에 특별히 추천되지는 않는다. 필요한 프로퍼티만 받을 수 있는 데이터 전달 프로토콜만을 받는 별도의 객체 또는 필요한 프로퍼티만을 받는 메소드를 만드는 편을 추천하다.
