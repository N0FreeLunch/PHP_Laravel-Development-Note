## 테스트 더블

### moking
- mocking은 '모의'라고 부른다. 객체나 추상클래스 인터페이스의 움직임을 흉내내기 위해서 만들어졌다.
- 객체란 공개 메소드를 통해서 행위(action)를 나타낸다. 이러한 액션의 조합으로 객체의 상태가 결정이 되고, 객체의 움직임이 결정된다.
- 모의라는 것은, 객체가 가진 여러 액션들의 조합으로 나타난 결과가 어떻게 될 것이라는 설정을 미리 하여, 이를 사용하는 대상으로 하여금 실제 객체를 사용하지 않고서도 해당 객체의 움직임에 대한 모의를 통해서 해당 객체를 사용할 수 있도록 한다.
- 실제 객체가 아닌 모의 객체를 사용하는 이유는, ORM이나 외부 API를 사용하는 경우, 테스트 할 때 실제 값을 가져오지 못하기 때문이다. 실제 값을 가져오게 되면 데이터베이스에 연결 해야 되서 테스트 코드를 동작을 시키는데 많은 시간이 낭비될 수 있고, API를 보안상의 이유나 금액의 문제 또는 권한 문제 또는 충분한 인프라 구분을 하지 않은 경우 실제 API를 호출할 때 문제가 발생할 수 있기 때문이다.

#### 모의 객체 만들기
첫 번째 인자
```php
$mock = \Mockery::mock('MyClass, MyInterface, OtherInterface');
```
- `mock` 함수는 클래스명 또는 추상클래스명 또는 인터페이스명을 문자열로 받는다.
- 이때 첫 번째 인자로 클래스명 또는 추상클래스명 또는 인터페이스명을 문자열로 넣는다.
- 만약 네임스페이스를 가진 클래스, 추상 클래스, 인터페이스라면 `ClassName::class`, `AbstractClassName::class`, `InterfaceName::class`와 같은 방식으로 넣는다.

두 번째 인자
```php
$mock = \Mockery::mock('MyClass', 'MyInterface, OtherInterface');
```
- 첫 번째 인자가 클래스인 경우, 두 번째 인자에 인터페이스를 주어 인터페이스의 제약을 받는 클래스를 만들 수 있다.
