### 함수형 프로그래밍에 좋지 않은 PHP

### PHP 함수형 프로그래밍을 지원한다.
- 고차함수를 만들 수 있다.
- 클로저를 사용할 수 있다. 
- 1급 객체를 지원한다.
- 참조 투명한 객체 또는 함수를 만들 수 있다.

### 불변성에 대한 지원이 약하다.
- 상수는 항상 글로벌 변수가 된다. 로컬로 상수를 사용할 수는 없기 때문에 로컬 상수를 사용할 수 없어 가독성이 떨어지는 경우를 초래한다.
- 로컬의 상수는 항상 변경될 수 있는 위험을 안고 있기 때문에 참조 투명성을 위배하기 쉽다.
- 객체의 멤버변수에 final 키워드를 사용해서 불변성을 만들 수는 있지만 메서드 내의 지역변수, 함수 안에서 로컬 상수를 만들 수 없다는 한계가 있다. 꼭 멤버를 사용해야만 하는 불편함이 존재한다.
- 상수를 명명할 때 항상 대문자로 표기해야 하는 관습이 있다. 상수를 일반적으로 사용하는 함수형 프로그래밍은 이 관습을 무시해야 오히려 편해진다.

### 함수형 표현을 사용하는데 보일러 플레이트가 많다.
- 자바스크립트 처럼 ```() => 'return value'``` 간단한 표기가 없다. php8에서는 ```fn() => 'return value'```방식을 지원하지만 다른 언어의 간단한 표기 보다 좀 더 많은 보일러 플레이트를 요구한다.

### 멀티코어를 활용할 수 없는 구조
- PHP는 보통 웹서버로 사용한다. 그런데 웹 서버에서는 멀티코어의 사용을 금한다. 
- 함수형 프로그래밍은 불변성의 모듈을 쌓아가면서 프로그래밍을 하는데 불변성 모듈을 쌓아서 프로그래밍을 하는 수고에 비해 멀티코어를 활용하지 못하므로 함수형 프로그래밍을 하기 위한 보일러 플레이트가 많은 것에 비해 좋은 효과를 얻을 수 있을지 의문이 든다.

### 비동기를 제대로 활용할 수 없는 구조
- PHP8에서 fiber라고 비동기 문법을 지원한다.

## 일관성이 없음
- 일관성이 없다는 것은 사용하는데 있어서 비슷한 구조를 가지고 있지 않기 때문에 기억해서 사용하기 어렵다는 것이고, 기억해서 사용하기 어렵다는 것은 하나 하나 사용할 때 마다 찾아 봐야 한다는 의미이다. 이는 결국 생산성의 저하로 이어지게 된다.
- 좋은 서비스를 만들기 위해서는 언어 수준에서 예측할 수 있는 코드를 짜는 것이 중요하다. 하지만, 비일관성은 언어 수준에서 파악하는데 좀 더 많은 시간이 필요한 코드를 만들어내기 때문에 태스트에 소모되는 비용이 더 요구되는 문제가 있다. 물론 직접 태스트 코드를 짤 때는 타 언어에 좀 더 쉽게 태스트 코드를 짤 수 있다고 볼 수는 있다.

### 배열 함수의 인자의 순서의 비일관성 
- callable과 array의 인자 순서가 배열 함수마다 다르다. http://phpsadness.com/sad/6
- haystack과 needle의 인자 순서가 배열 함수마다 다르다. http://phpsadness.com/sad/9


### 배열 함수의 비일관성을 해결하기 위한 방법
- 부족한 일관성에 대한 해결 방법 : 일관성 있게 만든 매핑된 라이브러리를 사용한다. 이를 위해서는 지속적으로 메인테인스가 이뤄지는 인기 있는 라이브러리로 사용하는 것이 중요하다. 배열 함수를 사용하지 말고 라라벨 컬렉션을 제공하는 라이브러리를 사용하는 방법 등을 사용하자. (라라벨 컬렉션만 분리한 라이브러리 : https://github.com/tighten/collect)



## Reference
- http://phpsadness.com/
