## 참조
### 저수준에서의 참조
- 일반적으로 컴퓨터 언어는 메모리에 값을 저장한다. 저장된 메모리의 값을 가져다 쓰거나 수정하는 것을 참조라고 한다.
- 이때 메모리의 특정 위치를 가리키도록 하는 것이 변수이다. 변수라는 대상을 지정하면 변수는 메모리의 고정된 위치에 데이터를 기록한다.

### php의 참조
- php와 같은 고수준의 언어의 경우 변수가 메모리의 특정 위치에 직접 데이터를 기록하는 것을 의미하지는 않는다. 메모리 상의 특정 주소를 가리키는 것이 아니라, php 엔진이 생성한 값을 가리킨다.
- 주소라는 것은 메모리상의 물리적 주소 또는 메모리상의 물리적 주소를 최종적으로 도달하기 위해 경유하는 가상주소와 달리, php 엔진이 생성한 값이란 대상에 엑세스 할 수 있는 주소를 의미한다.

## 참조의 문제점
- 참조 되는 어떤 값을 여러 곳에서 사용한다고 하자. 한 쪽에서 참족 값이 변경이 되면 다른 곳에서 사용되는 참조값도 변경이 이뤄진다. 값의 변경을 계속 추적할 수 있을 경우 참조값을 사용해도 무방하지만, 값이 계속 변한다면 원래의 값이 무엇이었는지 되돌아가지 어렵다. 때로는 초기 값을 사용하거나 이전의 값을 사용해야 하는데 최종적으로 변경된 값만 존재한다면 코드를 짜기 어렵게 된다. 따라서 값을 기록할 수 있어야 한다.

### 값 기록하기
- php에서 변수에 값이 할당될 때는 복사가 된다. 복사가 된다는 것은 참조되는 대상을 변경해도 복사된 대상은 영향을 받지 않기 때문에 변경 전의 값을 기록할 수 있다는 장점이 있다.

### 복사 할당
- php에서 변수는 계속 변경되는 값이다. 변수를 변수에 할당한다고 하자. 할당받은 변수는 할당한 변수의 값을 복사해서 가지고 있다.
- 이 때 할당한 변수를 변경해도 할당받은 변수는 변경되지 않는다.
- 이와 반대로 할당받은 변수를 변경한다면 할당받은 변수는 변경되지 않는다.
- 복사가 이뤄진 순간 이미 서로 독립적인 값의 저장소의 역할을 하는 것이다.

## 참조와 참조 할당
### 참조 할당
- 참조 할당은 `=&` 기호를 사용하여 `$변수 =& 값`의 방식으로 변수에 값을 할당한다. php에서 할당은 php 엔진이 생성한 값에 접근할 수 있는 이름을 부여하는 것인데, php 엔진이 생성한 값을 저장하는 공간이 존재한다. 일반 할당은 php 엔진이 생성한 값이 저마다 다른 공간에 위치하여 변수에 할당을 하게 되면 변수가 가리키는 값의 공간도 변하지만, 참조에 의해 할당이 되었다면 그 이후로 다른 값이 할당이 되더라도 원본 값이 저장된 공간에 값이 할당된다. 동일한 공간에 존재하는 값이 바뀌는 것이므로 기존 값은 사라지고 새로운 값이 들어가게 된다.

### 참조
- php에서 배열, 문자열, 오브젝트, 클래스는 원본 값을 교체하거나 버리지 않고 값의 내부 상태를 바꾸는 방식의 접근법을 제공한다.
- 따라서 한 번 변수에 할당되고 난 이후 값의 상태를 바꿀 수 있는 접근법으로 인해서 계속 동일한 값을 사용하면서 값의 상태만을 변경할 수 있다.
- 변수는 주소가 저장되어 있기 때문에 변수를 직접 변경한다면 변수를 다른 값으로 변경하는 것과 같다. 변수의 주소는 변경하지 않고 변수가 가리키는 참조 원본의 상태를 변경하기 때문에 참조 원본의 타입에 따라 원본의 상태를 변경할 수 있는 몇가지 특수한 방법을 제공한다. 

#### 참조 원본의 상태 변경
- 변수는 참조 원본을 가리키는 주소를 가지고 있다. 변수에 할당한다는 것은 해당 원본을 가리키는 주소를 변경하거나 값을 바꾸는 것이다. 배열, 오브젝트, 클래스를 가리키고 있는 변수에 다른 배열, 오브젝트, 클래스를 할당하면 가리키는 주소를 변경하는 것이고, 문자열, 정수, 소수(float), 불리언, null 등을 할당하는 것은 주소를 저장한 변수를 다른 타입의 값으로 바꾸는 것을 의미한다. 참조타입은 각각의 타입에 대한 주소를 변수에 저장하는 것이다.
- 참조 원본이 배열인 경우 `$변수명['property']`, 참조 원본이 문자열인 경우 `$변수명[indexNumber]`, 참조 원본이 오브젝트인 경우 `$변수명->property`, 참조 원본이 클래스인 경우 `$변수명::property`의 특수한 문법을 통해서 참조 원본의 상태를 변경할 수 있다.

#### 참조와 참조할당의 구분
- 참조할당(`=&`)의 경우에는 변수가 저장된 공간에 할당된 값을 대체하는 역할을 한다. 이에 반해 단순 참조의 경우에는 값의 상태를 변화시키는 역할을 한다. php 엔진에 의해 만들어진 값이 교체되는지 값의 내부 상태만 바뀌는지의 차이가 있는 것이다.
