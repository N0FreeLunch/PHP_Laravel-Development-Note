## isset의 사용방법

### isset 문법의 특징
- php에서 isset은 대상의 값이 정의되지 않은 경우 또는 값이 `null`인 경우를 판별하는 함수이다.
- 값이 정의되지 않거나, `null`인 경우에 `isset(대상)`은 `true`를 반환하고 그렇지 않으면 `false`를 반환한다.

### 좋은 코드란 무엇인가?
- 좋은 코드란 해석의 다양성을 줄이는 것이다. 해석의 가능성을 줄이는 것은 코드를 빠르고 명확하게 이해할 수 있도록 한다.
- 예를 들어 php에서 `const CONSTANT_VALUE = '불변값'`으로 선언된 값을 사용하면 이 값은 고정된 값이고 변경할 수 없는 값이란 것을 알 수 있다. 변수와 달리 상수는 고정된 값으로 이 값이 처음 선언된 부분에서의 값과 다르다는 것을 생각할 필요가 없으므로 변수의 변경 과정을 추척하지 않아도 된다. 상수를 사용한 것은 값이 변경할 가능성을 줄이는 것으로 해석의 다양성을 줄이는 일이다.
- 빠르고 명확하게 이해할 수 있는 코드를 만들기 위해서는 프로그래밍 언어에서 지원하는 문법을 잘 이해하여 가능한 다양하게 해석되지 않도록 코드를 작성하는 것이 필요하다.

### 정의되지 않은 변수를 확인하는 기능
- php에서 값이 정의되었는지 정의되지 않았는지 확인하는 기능으로는 `isset`, `??`, `??=` 문법이 존재한다. php에서 많은 기능과 함수가 존재하지만 대상이 정의된 값인지 정의되지 않은 값인지 확인하는 문법은 3가지로 제한적이다.
- 따라서 이들 정의되지 않은 대상을 파악하는 문법은 단순히 `null` 확인용으로 쓰는 것 보다는 값의 정의 유무를 판별할 때 사용하는 것으로 하고, 값의 `null` 여부를 판단하는 것은 `is_null(대상)`이나 `대상 === null`의 문법을 사용하는 것이 좋다.
- 이런 코딩 스타일을 갖게 되면, `isset`을 사용했을 때는 변수의 선언을 확인하는 용도로 바라보게 되고, `is_null`이나 `=== null`을 사용했을 때는 변수에 들어 있는 타입이 `null`인지 확인하는 용도로 바라보게 되어 정의되지 않은 값인지 `null` 값인지 명확하게 이해할 수 있는 로직을 짤 수 있다.

### 정의된 변수와 정의되지 않은 변수의 구분의 중요성
- 정의되지 않은 대상은 php에서 값 자체가 없는 것으로 대부분의 php 함수나 문법은 값의 존재를 상정하고 동작을 수행하기 때문에 `isset`, `??`, `??=` 이외의 코드에서 에러가 발생하는 경우가 대부분이다.
- 변수를 정의하지 않았기 때문에 php 코드의 많은 부분에서 이를 사용하기 위해서는 `isset`으로 변수의 존재 유무를 확인하고 코드를 짜야 한다.
- 어떤 로직을 만들 때 로직의 흐름을 전개하는 것과 상관없는 문법적인 요소들이 많이 들어가는 것이 좋지 않다. 따라서 로직을 전개하기 전에 부수적인 것들 미리 처리해야 할 것을 다 처리하고 로직의 흐름을 나타내는데 집중을 해야 한다.
- 변수를 미리 정하지 않고 코드를 짜게 되면 중간 중간 `isset`이 들어가게 되면서 깔끔하지 못한 코드를 만들게 된다. 따라서 다음과 같은 순서로 코드가 나열되는 형태를 갖는 것이 좋다.
```php
<php?

// 1. 변수를 선언할 때 변수의 기본 값을 지정한다. 변수가 여러 조건에 따라 값이 달라진다면 메소드나 함수 등의 반환 값으로 변수 값을 받도록 하자.
// ↓
// 2. 혹시 변수에 값이 정해지지 않은 경우 'isset', '??', '??=' 의 문법을 사용하여 변수 값이 정해지지 않은 부분이 없는지 확인하고 디폴트 값을 할당한다.
// ↓
// 3. 로직을 전개하는데 필요한 변수들이 다 모인 이후, 로직의 흐름을 나타내는 코드를 작성하도록 하자.
```

### 에러 발생을 이용한 데이터 전달 프로토콜 개선 방식
- `isset`으로 로직을 짜면 값의 존재와 비존재를 확인하기 편리하다며 좋아하는 사람이 있을지도 모른다. 메인테인스 할 때 값의 전달 프로토콜에 대한 이해 없이 그냥 `isset`을 사용해서 값이 있을 땐 처리하고 값이 없을 때 처리하지 않으면 되기 때문이다.
- 하지만 변수의 값을 체크하고 이후 사용하기 위해 값을 할당하기 위한 용도가 아니라, 필요한 값이 전달되지 않았기 때문에 에러가 나서 `isset`을 사용하여 `false`이면 로직을 실행하지 않는 방식으로 코드를 짜게되면 코드의 실행 과정에서 값의 전달이 명확한 프로토콜에 의해 일어나는 것이 아닌 중구난방식으로 코드를 짜는 것이므로 잘 정의된 로직을 만들기 보다 그냥 돌아가는 로직을 만들고 있을 가능성이 높다. 그저 동작하는 코드를 만들면 코드에 복잡한 조건이 추가될 때마다 더욱 메인테인스하기 어려운 로직을 만들게 된다.
- 코드를 작성할 때 에러를 처리하는 한 가지 방법은 기대하지 않았던 동작이 일어날 때 에러를 발생시켜서 에러가 발생한 로직을 보완하는 방식이다.
- 미리 필요한 변수의 값을 모두 모은 다음 이들로 로직을 짜게 되면 필요한 변수가 전달되지 않은 경우 에러가 발생하게 되고, 프로그래머는 에러의 원인을 확인하고 데이터의 전달 프로토콜의 형태에 대해 더 고민을 할 수 있고, 명확한 데이터 전달의 흐름을 갖기 때문에 메인테인스하기 쉬운 코드를 만들 수 있다.

### 비어 있는 값
- 빈 값을 표현하기 위해서 일부러 변수를 정의하지 않는 경우가 있을지도 모른다. 변수가 정의되지 않으면 빈 값이고, 변수가 정의되면 사용하면 되는 값이 되기 때문이다. 그런데 이러한 존재 비존재의 상태를 표현하는데 굳이 `isset`을 사용할 필요가 없으며 대체할 수 있는 php 표현은 상당히 많다.
- 많은 경우 로직의 전개 과정에서 여러 타입에 대한 처리 보다는 하나의 타입에 대한 처리를 하는 기능이 많다. 그래서 변수는 가능한 적은 종류의 타입을 갖는 것을 추천한다. 변수가 갖는 타입이 많아질수록 변수를 사용할 때 로직의 분기가 많아지기 때문이다.
- 문자열의 경우에는 빈 문자열 `""`과 비지 않은 문자열으로, 수의 경우에는 `0`과 `0`이 아닌 수로, 배열은 빈 배열`[]`과 비지 않은 배열 `[1,2,3]`으로 하나의 타입에서 빈 값과 비지 않은 값을 이용할 수 있다. php의 `empty`란 내장함수는 동일한 타입에서 빈 값을 체크하는데 유용한 함수이다.
- 또는 오브젝트 같은 경우는 빈 값을 정의하기 어려울 수 있기 때문에 비어 있는지를 나타내기 위해서 `null` 타입과 유니온 타입으로 사용한다.
- 로직을 전개하기 위해 필요한 모든 변수를 미리 정의하고 난 이후에는 해당 값에 어떤 타입의 값이 들어가 있는지 확인할 수 있는 기능은 많다.
- is_​array, is_​bool, is_​callable, is_​countable, is_​double, is_​float, is_​int, is_​integer, is_​iterable, is_​long, is_​null, is_​numeric, is_​object, is_​real, is_​resource, is_​scalar, is_​string
- 이들 키워드는 `null` 타입과 병용하여 값이 준비 되었는지 준비되지 않았는지 확인할 수 있게 해 주며, 중간중간 변수의 타입을 알 수 있게 해 주기 때문에 타입 안정적인 코드를 짜는데 도움을 주기도 한다.
- 어떤 변수의 디폴트 값을 먼저 선언하고자 한다면 각 타입의 빈 값 또는 `null`을 사용한 코드를 만들도록 하자.
